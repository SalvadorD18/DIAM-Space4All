<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title> {% block title %} 👨‍🚀 Space4All 👩‍🚀 {% endblock %} </title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'space_trip/css/galaxy.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="{% static 'space_trip/scripts/scripts.js' %}"></script>
</head>

<meta name="viewport" content="width=device-width, initial-scale=1">

{% block header %}

<header class="header">
    <form action="{% url 'space_trip:index' %}">
        <center><input type="image" src="{% static 'media/logo.png' %}" alt="Logo" style="width:10%"></center>
    </form>
</header>

{% endblock %}

{% block planet %}

{% endblock %}

<body id="bg" style="background-image: url('{% static 'media/universe.png' %}');">

{% block slidePlanetas %}

{% load static %}

<main class="slideshow-container">

    <div class="mySlides fade">
      <div class="numbertext">1 / 9</div>
        <a href="{% url 'space_trip:moon' %}" target="_self">
            <p><img src="{% static 'media/moon.png' %}" alt="Lua" style="width:100%"></p>
        </a>
      <div class="text">Lua</div>
    </div>

    <div class="mySlides fade">
      <div class="numbertext">2 / 9</div>
        <a href="{% url 'space_trip:mercury' %}" target="_self">
            <p><img src="{% static 'media/mercury.png' %}" alt="Mercúrio" style="width:100%"></p>
        </a>
      <div class="text">Mercúrio</div>
    </div>

    <div class="mySlides fade">
      <div class="numbertext">3 / 9</div>
        <a href="{% url 'space_trip:venus' %}" target="_self">
            <p><img src="{% static 'media/venus.png' %}" alt="Vénus" style="width:100%"></p>
        </a>
      <div class="text">Vénus</div>
    </div>

    <div class="mySlides fade">
      <div class="numbertext">4 / 9</div>
        <a href="{% url 'space_trip:earth' %}" target="_self">
            <p><img src="{% static 'media/earth.png' %}" style="width:100%"></p>
        </a>
      <div class="text">Terra</div>
    </div>
            <div class="mySlides fade">
      <div class="numbertext">5 / 9</div>
        <a href="{% url 'space_trip:mars' %}" target="_self">
            <p><img src="{% static 'media/mars.png' %}" style="width:100%"></p>
        </a>
      <div class="text">Marte</div>
    </div>

            <div class="mySlides fade">
      <div class="numbertext">6 / 9</div>
        <a href="{% url 'space_trip:jupiter' %}" target="_self">
            <p><img src="{% static 'media/jupiter.png' %}" style="width:100%"></p>
        </a>
      <div class="text">Júpiter</div>
    </div>

            <div class="mySlides fade">
      <div class="numbertext">7 / 9</div>
        <a href="{% url 'space_trip:saturn' %}" target="_self">
            <p><img src="{% static 'media/saturn.png' %}" style="width:100%"></p>
        </a>
      <div class="text">Saturno</div>
    </div>

            <div class="mySlides fade">
      <div class="numbertext">8 / 9</div>
        <a href="{% url 'space_trip:uranus' %}" target="_self">
            <p><img src="{% static 'media/uranus.png' %}" style="width:100%"></p>
        </a>
      <div class="text">Urano</div>
    </div>

            <div class="mySlides fade">
      <div class="numbertext">9 / 9</div>
        <a href="{% url 'space_trip:neptune' %}" target="_self">
            <p><img src="{% static 'media/neptune.png' %}" style="width:100%"></p>
        </a>
      <div class="text">Neptuno</div>
    </div>

    <a class="prev" onclick="plusSlides(-1)">❮</a>
    <a class="next" onclick="plusSlides(1)">❯</a>

    <br>
    <div style="text-align:center">
      <span class="dot" onclick="currentSlide(1)"></span>
      <span class="dot" onclick="currentSlide(2)"></span>
      <span class="dot" onclick="currentSlide(3)"></span>
      <span class="dot" onclick="currentSlide(4)"></span>
      <span class="dot" onclick="currentSlide(5)"></span>
      <span class="dot" onclick="currentSlide(6)"></span>
      <span class="dot" onclick="currentSlide(7)"></span>
      <span class="dot" onclick="currentSlide(8)"></span>
      <span class="dot" onclick="currentSlide(9)"></span>
    </div>
</main>
{% endblock %}

<nav class="sidenav">
{% block body %}

    {% if request.user.is_authenticated %}
        <a onmouseover="show()" id="u" onmouseout="hide()">{{request.user.username}} tem a sessão iniciada</a>
        <br>
        <br>
        <center><img id="userimage" src="{{ uploaded_file_url }}" style="display:none;"></center>

    {% else %}
        <p style="font-color: white;">O utilizador não tem a sessão iniciada</p>

        <form action="{% url 'space_trip:registar' %}">
            <input type="submit" value="Registar" />
        </form>

        <form action="{% url 'space_trip:iniciarsessao' %}">
            <input type="submit" value="Iniciar Sessão" />
        </form>

    {% endif %}
    <br>

    <button id="botaoQuestoes" onclick="listaQuestoes()">
        Mostrar lista de Questões
    </button>


    <div>
        {% if request.user.is_authenticated %}
            <p><a href="{% url 'space_trip:perfil' %}"/>O teu profile</p>
        {% endif %}
    </div>

{% endblock %}

{% block homepage %}
{% endblock %}

</nav>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"> </script>

    <script>
        let slideIndex = 1;
        showSlides(slideIndex);

        function plusSlides(n){
          clearInterval(myTimer);
          if (n < 0){
            showSlides(slideIndex -= 1);
          } else {
           showSlides(slideIndex += 1);
          }
          if (n === -1){
            myTimer = setInterval(function(){plusSlides(n + 2)}, 4000);
          } else {
            myTimer = setInterval(function(){plusSlides(n + 1)}, 4000);
          }
        }

         function currentSlide(n){
          clearInterval(myTimer);
          myTimer = setInterval(function(){plusSlides(n + 1)}, 4000);
          showSlides(slideIndex = n);
        }

        function showSlides(n){
          var i;
          var slides = document.getElementsByClassName("mySlides");
          var dots = document.getElementsByClassName("dot");
          if (n > slides.length) {slideIndex = 1}
          if (n < 1) {slideIndex = slides.length}
          for (i = 0; i < slides.length; i++) {
              slides[i].style.display = "none";
          }
          for (i = 0; i < dots.length; i++) {
              dots[i].className = dots[i].className.replace(" active", "");
          }
          slides[slideIndex-1].style.display = "block";
          dots[slideIndex-1].className += " active";
        }

        window.addEventListener("load",function() {
            showSlides(slideIndex);
            myTimer = setInterval(function(){plusSlides(1)}, 4000);
        })

    </script>

</body>
</html>