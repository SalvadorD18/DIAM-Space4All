{% extends "./index.html" %}

{% block title %} Space4All | Lista de Viagens {% endblock %}

{% load static %}

{% block planetSlider %}

{% endblock %}

{% block body %}
<div>
      <br><br>
       <h1 style="color: white; text-align: center;" class="glow display-4">Lista de Viagens</h1>
      <br>
      <a href="{% url 'space_trip:trip-management' %}"><button class="btn btn-primary btn-block fa-lg gradient-custom-2 mb-3" style="position: relative; left: 78.5%">Criar Viagem</button></a>
      <br>
      <table class="table align-middle mb-0 bg-white w-75" style="border-radius: 10px; margin-left: auto; margin-right: auto;">
        <thead class="bg-light">
          <tr>
            <th>Origem</th>
            <th>Destino</th>
            <th>Data de Partida</th>
            <th>Data de Chegada</th>
            <th>Preço/Viagem</th>
            <th>Nave Espacial</th>
            <th>Número de Passageiros</th>
            <th>Apagar Viagem</th>
          </tr>
        </thead>
        <tbody>
          {% if trip_list %}
            {% for trip in trip_list %}
              <tr>
                <td>
                    {{ trip.origin }}
                </td>
                <td>
                    {{ trip.destination }}
                </td>
                <td>
                    {{ trip.departure_date }}
                </td>
                <td>
                    {{ trip.return_date }}
                </td>
                <td>
                    {{ trip.price }},00 €
                </td>
                <td>
                    {{ trip.spaceship }}
                </td>
                <td>
                    {{ trip.number_of_passengers }}
                </td>
                <td>
                    <form action="{% url 'space_trip:deleteTrip' trip.id %}" method="get">
                        {% csrf_token %}
                        <input onclick="myFunction()" class="btn btn-primary btn-block fa-lg gradient-custom-2" type="submit" value="Apagar" />
                    </form>

                </td>
              </tr>
            {% endfor %}
          {% else %}
            <p>Não existem viagens disponíveis.</p>
          {% endif %}
        </tbody>
      </table>
</div>

{% endblock %}